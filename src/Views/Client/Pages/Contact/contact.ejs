<%- include("../../Layouts/header") %>

  <section class="contact-page">
    <div class="contact-container">
      <div class="contact-info">
        <form id="contactForm" class="contact-form">
            <label for="name">Họ và tên</label>
            <input type="text" id="name" name="name" placeholder="Nhập tên của bạn" required>
        
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Nhập email của bạn" required>
        
            <label for="message">Nội dung</label>
            <textarea id="message" name="message" placeholder="Nhập nội dung liên hệ" required></textarea>
        
            <button class="button" type="submit">Gửi liên hệ</button>
        </form>
      </div>
      <div class="map">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31435.36395698237!2d105.72011857431642!3d9.982081500000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31a08906415c355f%3A0x416815a99ebd841e!2zVHLGsOG7nW5nIENhbyDEkeG6s25nIEZQVCBQb2x5dGVjaG5pYw!5e0!3m2!1svi!2s!4v1731045254641!5m2!1svi!2s"
          width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
  </section>

  <form class="contact-form" method="POST" action="/lienhe/send-email">
    <section class="newsletter">
      <h3>Đăng kí nhận tin khuyến mãi</h3>
      <div class="subscription">
        <input type="email" placeholder="Nhập email của bạn" class="button">
        <button class="button">Đăng ký</button>
      </div>
      </div>
      </div>
    </section>
  </form>
  </main>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("#contactForm");

    form.addEventListener("submit", async function(event) {
        event.preventDefault();

        const formData = {
            email: document.getElementById("email").value.trim(),
            name: document.getElementById("name").value.trim(),
            message: document.getElementById("message").value.trim()
        };

        const response = await fetch("/send-email", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(formData)
        });

        const result = await response.json();
        alert(result.message); 

        if (result.success) {
            form.reset();
        }
    });
});

  </script>


  <%- include("../../Layouts/footer") %>